<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tanga Clicker O'yini</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f0f0;
        }

        #tangalar {
            font-size: 24px;
            margin: 20px;
            color: #c90;
        }

        .tanga {
            width: 150px;
            height: 150px;
            background-color: #gold;
            border-radius: 50%;
            margin: 20px auto;
            cursor: pointer;
            border: 5px solid #daa520;
            position: relative;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="96" height="96"><path fill="%23000000" d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>');
            background-position: center;
            background-repeat: no-repeat;
        }

        #zaryad {
            width: 200px;
            height: 20px;
            background-color: #ddd;
            margin: 10px auto;
            border-radius: 10px;
            overflow: hidden;
        }

        #zaryad-ich {
            width: 100%;
            height: 100%;
            background-color: #4CAF50;
            transition: width 0.3s;
        }

        .dokon {
            background-color: white;
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .yaxshilanish {
            border: 1px solid #ddd;
            padding: 10px;
            margin: 10px;
            display: inline-block;
            cursor: pointer;
        }

        .sirli-kod {
            font-size: 24px;
            letter-spacing: 10px;
            margin: 20px;
            font-family: monospace;
        }

        .animatsiya {
            animation: harfAnim 0.5s ease-in-out;
        }

        @keyframes harfAnim {
            0% { transform: rotate(0deg); }
            50% { transform: rotate(360deg); }
            100% { transform: rotate(0deg); }
        }
    </style>
</head>
<body>
    <div id="tangalar">Tangalar: <span id="balans">0</span></div>
    
    <div class="tanga" onclick="tangaBos()"></div>
    
    <div id="zaryad">
 <div id="zaryad-ich"></div>
    </div>
    
    <div class="dokon">
        <h2>Do'kon</h2>
        <div class="yaxshilanish" onclick="yaxshilanishSotibOl(100)">Yaxshilanish 1 (100 tanga)</div>
        <div class="yaxshilanish" onclick="yaxshilanishSotibOl(200)">Yaxshilanish 2 (200 tanga)</div>
        <div class="yaxshilanish" onclick="yaxshilanishSotibOl(300)">Yaxshilanish 3 (300 tanga)</div>
    </div>
    
    <div class="sirli-kod" id="sirliKod">Sirli kod: XXXX</div>
    
    <script>
        let balans = 0;
        let zaryad = 100;
        const zaryadMax = 100;
        const localStorageKey = 'tangaClicker';

        function tangaBos() {
            if (zaryad > 0) {
                balans++;
                zaryad--;
                document.getElementById('balans').innerText = balans;
                document.getElementById('zaryad-ich').style.width = (zaryad / zaryadMax) * 100 + '%';
                localStorage.setItem(localStorageKey, JSON.stringify({ balans, zaryad }));
            } else {
                alert("Zaryad tugadi! Iltimos, kuting.");
            }
        }

        function yaxshilanishSotibOl(narx) {
            if (balans >= narx) {
                balans -= narx;
                document.getElementById('balans').innerText = balans;
                alert("Muvaffaqiyatli sotib olindi!");
                if (narx === 900) {
                    sirliKodAniqlash();
                }
                localStorage.setItem(localStorageKey, JSON.stringify({ balans, zaryad }));
            } else {
                alert("Tangalar yetarli emas!");
            }
        }

        function sirliKodAniqlash() {
            const kod = "5525";
            let sirliKodDiv = document.getElementById('sirliKod');
            sirliKodDiv.innerText = "Sirli kod: ";
            for (let i = 0; i < kod.length; i++) {
                setTimeout(() => {
                    sirliKodDiv.innerText += kod[i];
                    sirliKodDiv.classList.add('animatsiya');
                }, i * 1000);
            }
        }

        function yuklash() {
            const saqlanganMa'lumot = JSON.parse(localStorage.getItem(localStorageKey));
            if (saqlanganMa'lumot) {
                balans = saqlanganMa'lumot.balans;
                zaryad = saqlanganMa'lumot.zaryad;
                document.getElementById('balans').innerText = balans;
                document.getElementById('zaryad-ich').style.width = (zaryad / zaryadMax) * 100 + '%';
            }
        }

        window.onload = yuklash;
    </script>
</body>
</html>
